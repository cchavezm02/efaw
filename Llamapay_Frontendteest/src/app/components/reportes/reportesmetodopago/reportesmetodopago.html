<div class="contenedor-grafico">
  <h2 class="titulo-grafico">Cantidad de métodos de pago por usuario</h2>
  <p class="subtitulo-grafico">Visualización de cuántos métodos de pago tiene registrado cada usuario</p>

  <div class="envoltorio-grafico">
    <div class="selector-usuario">
      <label>Selecciona Usuario:</label>
      <select [(ngModel)]="selectedUserId" (change)="onUserChange($event)">
        <option *ngFor="let user of users" [value]="user.userId">
          {{ user.nameUser }}
        </option>
      </select>
    </div>

    <canvas baseChart
      [datasets]="barChartData"
      [labels]="barChartLabels"
      [options]="barChartOptions"
      [legend]="barChartLegend"
      [type]="barChartType">
    </canvas>
  </div>

  <div class="leyenda-grafico">
    <div class="titulo-leyenda">Información del Gráfico</div>
    <div class="elementos-leyenda">
      <div class="elemento-leyenda">
        <div class="color-leyenda" style="background-color: #CC0000;"></div>
        <span class="texto-leyenda">Cantidad de métodos por usuario</span>
      </div>
    </div>
  </div>

  <div class="estadisticas-grafico" *ngIf="barChartData && barChartData[0]?.data?.length">
    <div class="elemento-estadistica">
      <span class="numero-estadistica">{{ totalMetodos() }}</span>
      <span class="etiqueta-estadistica">Métodos Totales</span>
    </div>
    <div class="elemento-estadistica">
      <span class="numero-estadistica">{{ barChartLabels.length }}</span>
      <span class="etiqueta-estadistica">Tipos Distintos</span>
    </div>
  </div>
</div>
